import { Injectable } from '@angular/core';
import { Subject } from 'rxjs';
export class DependencyTableHelisaService {
    constructor() {
        this.tables = new Subject();
        this.infoTables = new Array();
        this.emitVisibilityButton$ = new Subject();
        this.emitVisibilityButton = this.emitVisibilityButton$.asObservable();
        this.emitVisibilityAllButtons$ = new Subject();
        this.emitVisibilityAllButtons = this.emitVisibilityAllButtons$.asObservable();
        this.emitIsCellSelection$ = new Subject();
        this.emitIsCellSelection = this.emitIsCellSelection$.asObservable();
        this.emitChangeColumns$ = new Subject();
        this.emitChangeColumns = this.emitChangeColumns$.asObservable();
        this.emitEnabledButton$ = new Subject();
        this.emitEnabledButton = this.emitEnabledButton$.asObservable();
        this.emitTotal = new Subject();
        this.emitNextPage = new Subject();
    }
    /**
     * retorna un Observable<ConfigTable[]>
     */
    getTables() {
        return this.tables;
    }
    /**
     * Actualiza las dependencias, agrendo la tabla que envian en el orden correspondiente o al final.
     * También remueve las dependecias que hay apartir de la tabla segun se indique en el parametro.
     * @param configTable Objeto que contiene la configuración para la tabla.
     * @param withRemoveDependency boolean por defecto es false, si es 'true' indica que remueva las dependencias apartir de el.
     */
    updateDependency(configTable, withRemoveDependency = false) {
        if (withRemoveDependency) {
            this.infoTables = this.infoTables.slice(0, !configTable.order ? 0 : configTable.order);
        }
        if (!configTable.order || configTable.order >= this.infoTables.length) {
            configTable.order = this.infoTables.length;
        }
        this.infoTables[configTable.order] = configTable;
        if (configTable.isRemote) {
            configTable.dataSource = null;
            if (configTable.count === null) {
                throw new Error('hace falta el count');
            }
        }
        else {
            if (configTable.dataSource === null) {
                throw new Error('hace falta el dataSource');
            }
            configTable.count = configTable.dataSource.length;
        }
        this.tables.next(this.infoTables);
    }
    /**
     * Emite un evento de total con la información para la tabla correspondiente
     * @param event wrapper que contiene el indice de la tabla y la información de la pagina
     */
    setTotal(event) {
        this.emitTotal.next(event);
    }
    /**
     * Emite un evento de agregar pagina con la pagina para la tabla correspondiente
     * @param event wrapper que contiene el indice de la tabla y la información de la pagina
     */
    addPage(event) {
        this.emitNextPage.next(event);
    }
    selectIndexRow(config) {
        if (this.infoTables[config.order]) {
            this.infoTables[config.order].indexRowSelect = config.indexRowSelect;
            this.tables.next(this.infoTables);
        }
    }
    /**
     * * Deshabilita el botón y le pone un titulo sobre el over
     * @param event para indicar el index de la tabla y en "data" true o false
     */
    changeEnabledButton(event) {
        this.emitEnabledButton$.next(event);
    }
    /**
     * Muestra o esconde el boton una tabla en especifico
     * @param event para indicar el index de la tabla y en "data" true o false
     */
    changeVisibilityButton(event) {
        this.emitVisibilityButton$.next(event);
    }
    /**
     * Esconde los botones de todas las tablas
     * @param show indicar si se muestran o no todos los botones de las tablas
     */
    changeVisibilityAllButtons(show) {
        this.emitVisibilityAllButtons$.next(show);
    }
    /**
     * Para habilitar el manejo de selección de celda
     * @param event para indicar el index de la tabla y en "data" true o false
     */
    changeisCellSelection(event) {
        this.emitIsCellSelection$.next(event);
    }
    /**
     * Para habilitar el cambio de columnas
     * @param event para indicar el index de la tabla y en "data" columnas
     */
    changeColumnsByTable(event) {
        this.emitChangeColumns$.next(event);
    }
}
DependencyTableHelisaService.decorators = [
    { type: Injectable }
];
DependencyTableHelisaService.ctorParameters = () => [];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVwZW5kZW5jeS10YWJsZS1oZWxpc2Euc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2hlbGlzYS1saWIvc3JjL2xpYi9jb21wb25lbnRzL2RlcGVuZGVuY3ktdGFibGUtaGVsaXNhL2RlcGVuZGVuY3ktdGFibGUtaGVsaXNhLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQWMsT0FBTyxFQUFtQixNQUFNLE1BQU0sQ0FBQztBQXNCNUQsTUFBTSxPQUFPLDRCQUE0QjtJQXdCdkM7UUFyQkEsV0FBTSxHQUE4QixJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQ2xELGVBQVUsR0FBMEIsSUFBSSxLQUFLLEVBQUUsQ0FBQztRQUV4QywwQkFBcUIsR0FBc0MsSUFBSSxPQUFPLEVBQTRCLENBQUM7UUFDM0cseUJBQW9CLEdBQXlDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUUvRiw4QkFBeUIsR0FBcUIsSUFBSSxPQUFPLEVBQVcsQ0FBQztRQUM3RSw2QkFBd0IsR0FBd0IsSUFBSSxDQUFDLHlCQUF5QixDQUFDLFlBQVksRUFBRSxDQUFDO1FBRXRGLHlCQUFvQixHQUFzQyxJQUFJLE9BQU8sRUFBNEIsQ0FBQztRQUMxRyx3QkFBbUIsR0FBeUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFlBQVksRUFBRSxDQUFDO1FBRTdGLHVCQUFrQixHQUE2QyxJQUFJLE9BQU8sRUFBbUMsQ0FBQztRQUN0SCxzQkFBaUIsR0FBZ0QsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFlBQVksRUFBRSxDQUFDO1FBRWhHLHVCQUFrQixHQUFrRSxJQUFJLE9BQU8sRUFBd0QsQ0FBQztRQUNoSyxzQkFBaUIsR0FBcUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFlBQVksRUFBRSxDQUFDO1FBRTdILGNB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O0lBQ0osb0JBQW9CLENBQUUsS0FBc0M7UUFDMUQsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0QyxDQUFDOzs7WUE3SEYsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCwgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7Q29sdW1uQ29uZmlnLCBBZGRSb3dCdXR0b24sIENvbmZpZ1Jvd1N0eWxlcywgVG90YWxUYWJsZUhlbGlzYSwgRW1wdHlNZXNzYWdlQ29sdW1ufSBmcm9tICcuLi90YWJsZS1oZWxpc2EvdGFibGUtaGVsaXNhLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IEV2ZW50RGVwZW5kZW5jeX0gZnJvbSAnLi9kZXBlbmRlbmN5LXRhYmxlLWhlbGlzYS5jb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25maWdUYWJsZTxUPiB7XHJcbiAgY29sdW1uczogQXJyYXk8Q29sdW1uQ29uZmlnPjtcclxuICBpc1JlbW90ZTogYm9vbGVhbjtcclxuICBkYXRhU291cmNlPzogQXJyYXk8VD47XHJcbiAgY291bnQ/OiBudW1iZXI7XHJcbiAgb3JkZXI/OiBudW1iZXI7XHJcbiAgc2hvd1RpdGxlPzogYm9vbGVhbjtcclxuICBpbmRleFJvd1NlbGVjdD86IG51bWJlcjtcclxuICBpc0RyYWdnZWQ/OiBib29sZWFuO1xyXG4gIGFkZFJvd0J1dHRvbj86IEFkZFJvd0J1dHRvbjtcclxuICBjb25maWdSb3dTdHlsZXNGcm9tQ29sdW1uPzogQXJyYXk8Q29uZmlnUm93U3R5bGVzPFQ+PjtcclxuICBjb25maWdDb2x1bW5DbGFzcz86IEFycmF5PHN0cmluZz4sXHJcbiAgaXNDZWxsU2VsZWN0aW9uPzogYm9vbGVhbjtcclxuICBhZGRCb29rQnV0dG9uPzogYm9vbGVhbjtcclxuICBlbXB0eU1lc3NhZ2VGb3JDb2x1bW4/OiBFbXB0eU1lc3NhZ2VDb2x1bW47XHJcbn1cclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIERlcGVuZGVuY3lUYWJsZUhlbGlzYVNlcnZpY2U8VD4ge1xyXG5cclxuXHJcbiAgdGFibGVzOiBTdWJqZWN0PENvbmZpZ1RhYmxlPFQ+W10+ID0gbmV3IFN1YmplY3QoKTtcclxuICBpbmZvVGFibGVzOiBBcnJheTxDb25maWdUYWJsZTxUPj4gPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgcHJpdmF0ZSBlbWl0VmlzaWJpbGl0eUJ1dHRvbiQ6IFN1YmplY3Q8RXZlbnREZXBlbmRlbmN5PGJvb2xlYW4+PiA9IG5ldyBTdWJqZWN0PEV2ZW50RGVwZW5kZW5jeTxib29sZWFuPj4oKTtcclxuICBlbWl0VmlzaWJpbGl0eUJ1dHRvbjogT2JzZXJ2YWJsZTxFdmVudERlcGVuZGVuY3k8Ym9vbGVhbj4+ID0gdGhpcy5lbWl0VmlzaWJpbGl0eUJ1dHRvbiQuYXNPYnNlcnZhYmxlKCk7XHJcblxyXG4gIHByaXZhdGUgZW1pdFZpc2liaWxpdHlBbGxCdXR0b25zJDogU3ViamVjdDxib29sZWFuPiA9IG5ldyBTdWJqZWN0PGJvb2xlYW4+KCk7XHJcbiAgZW1pdFZpc2liaWxpdHlBbGxCdXR0b25zOiBPYnNlcnZhYmxlPGJvb2xlYW4+ID0gdGhpcy5lbWl0VmlzaWJpbGl0eUFsbEJ1dHRvbnMkLmFzT2JzZXJ2YWJsZSgpO1xyXG5cclxuICBwcml2YXRlIGVtaXRJc0NlbGxTZWxlY3Rpb24kOiBTdWJqZWN0PEV2ZW50RGVwZW5kZW5jeTxib29sZWFuPj4gPSBuZXcgU3ViamVjdDxFdmVudERlcGVuZGVuY3k8Ym9vbGVhbj4+KCk7XHJcbiAgZW1pdElzQ2VsbFNlbGVjdGlvbjogT2JzZXJ2YWJsZTxFdmVudERlcGVuZGVuY3k8Ym9vbGVhbj4+ID0gdGhpcy5lbWl0SXNDZWxsU2VsZWN0aW9uJC5hc09ic2VydmFibGUoKTtcclxuXHJcbiAgcHJpdmF0ZSBlbWl0Q2hhbmdlQ29sdW1ucyQ6IFN1YmplY3Q8RXZlbnREZXBlbmRlbmN5PENvbHVtbkNvbmZpZ1tdPj4gPSBuZXcgU3ViamVjdDxFdmVudERlcGVuZGVuY3k8Q29sdW1uQ29uZmlnW10+PigpO1xyXG4gIGVtaXRDaGFuZ2VDb2x1bW5zOiBPYnNlcnZhYmxlPEV2ZW50RGVwZW5kZW5jeTxDb2x1bW5Db25maWdbXT4+ID0gdGhpcy5lbWl0Q2hhbmdlQ29sdW1ucyQuYXNPYnNlcnZhYmxlKCk7XHJcblxyXG4gIHByaXZhdGUgZW1pdEVuYWJsZWRCdXR0b24kOiBTdWJqZWN0PEV2ZW50RGVwZW5kZW5jeTx7aXNEaXNhYmxlZDogYm9vbGVhbiwgdGV4dDogc3RyaW5nfT4+ID0gbmV3IFN1YmplY3Q8RXZlbnREZXBlbmRlbmN5PHtpc0Rpc2FibGVkOiBib29sZWFuLCB0ZXh0OiBzdHJpbmd9Pj4oKTtcclxuICBlbWl0RW5hYmxlZEJ1dHRvbjogT2JzZXJ2YWJsZTxFdmVudERlcGVuZGVuY3k8e2lzRGlzYWJsZWQ6IGJvb2xlYW4sIHRleHQ6IHN0cmluZ30+PiA9IHRoaXMuZW1pdEVuYWJsZWRCdXR0b24kLmFzT2JzZXJ2YWJsZSgpO1xyXG5cclxuICBlbWl0VG90YWw6IFN1YmplY3Q8RXZlbnREZXBlbmRlbmN5PFRvdGFsVGFibGVIZWxpc2E+PiA9IG5ldyBTdWJqZWN0PEV2ZW50RGVwZW5kZW5jeTxUb3RhbFRhYmxlSGVsaXNhPj4oKTtcclxuICBlbWl0TmV4dFBhZ2U6IFN1YmplY3Q8RXZlbnREZXBlbmRlbmN5PFRbXT4+ID0gbmV3IFN1YmplY3Q8RXZlbnREZXBlbmRlbmN5PFRbXT4+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHJldG9ybmEgdW4gT2JzZXJ2YWJsZTxDb25maWdUYWJsZVtdPlxyXG4gICAqL1xyXG4gIGdldFRhYmxlcygpOiBPYnNlcnZhYmxlPENvbmZpZ1RhYmxlPFQ+W10+IHtcclxuICAgIHJldHVybiB0aGlzLnRhYmxlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFjdHVhbGl6YSBsYXMgZGVwZW5kZW5jaWFzLCBhZ3JlbmRvIGxhIHRhYmxhIHF1ZSBlbnZpYW4gZW4gZWwgb3JkZW4gY29ycmVzcG9uZGllbnRlIG8gYWwgZmluYWwuXHJcbiAgICogVGFtYmnDqW4gcmVtdWV2ZSBsYXMgZGVwZW5kZWNpYXMgcXVlIGhheSBhcGFydGlyIGRlIGxhIHRhYmxhIHNlZ3VuIHNlIGluZGlxdWUgZW4gZWwgcGFyYW1ldHJvLlxyXG4gICAqIEBwYXJhbSBjb25maWdUYWJsZSBPYmpldG8gcXVlIGNvbnRpZW5lIGxhIGNvbmZpZ3VyYWNpw7NuIHBhcmEgbGEgdGFibGEuXHJcbiAgICogQHBhcmFtIHdpdGhSZW1vdmVEZXBlbmRlbmN5IGJvb2xlYW4gcG9yIGRlZmVjdG8gZXMgZmFsc2UsIHNpIGVzICd0cnVlJyBpbmRpY2EgcXVlIHJlbXVldmEgbGFzIGRlcGVuZGVuY2lhcyBhcGFydGlyIGRlIGVsLlxyXG4gICAqL1xyXG4gIHVwZGF0ZURlcGVuZGVuY3koY29uZmlnVGFibGU6IENvbmZpZ1RhYmxlPFQ+LCB3aXRoUmVtb3ZlRGVwZW5kZW5jeTogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICBpZiAod2l0aFJlbW92ZURlcGVuZGVuY3kpIHtcclxuICAgICAgdGhpcy5pbmZvVGFibGVzID0gdGhpcy5pbmZvVGFibGVzLnNsaWNlKDAsICFjb25maWdUYWJsZS5vcmRlciA/IDAgOiBjb25maWdUYWJsZS5vcmRlcik7XHJcbiAgICB9XHJcbiAgICBpZiAoIWNvbmZpZ1RhYmxlLm9yZGVyIHx8IGNvbmZpZ1RhYmxlLm9yZGVyID49IHRoaXMuaW5mb1RhYmxlcy5sZW5ndGgpIHtcclxuICAgICAgY29uZmlnVGFibGUub3JkZXIgPSB0aGlzLmluZm9UYWJsZXMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbmZvVGFibGVzW2NvbmZpZ1RhYmxlLm9yZGVyXSA9IGNvbmZpZ1RhYmxlO1xyXG4gICAgaWYgKGNvbmZpZ1RhYmxlLmlzUmVtb3RlKSB7XHJcbiAgICAgIGNvbmZpZ1RhYmxlLmRhdGFTb3VyY2UgPSBudWxsO1xyXG4gICAgICBpZiAoY29uZmlnVGFibGUuY291bnQgPT09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhY2UgZmFsdGEgZWwgY291bnQnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGNvbmZpZ1RhYmxlLmRhdGFTb3VyY2UgPT09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhY2UgZmFsdGEgZWwgZGF0YVNvdXJjZScpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbmZpZ1RhYmxlLmNvdW50ID0gY29uZmlnVGFibGUuZGF0YVNvdXJjZS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICB0aGlzLnRhYmxlcy5uZXh0KHRoaXMuaW5mb1RhYmxlcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbWl0ZSB1biBldmVudG8gZGUgdG90YWwgY29uIGxhIGluZm9ybWFjacOzbiBwYXJhIGxhIHRhYmxhIGNvcnJlc3BvbmRpZW50ZVxyXG4gICAqIEBwYXJhbSBldmVudCB3cmFwcGVyIHF1ZSBjb250aWVuZSBlbCBpbmRpY2UgZGUgbGEgdGFibGEgeSBsYSBpbmZvcm1hY2nDs24gZGUgbGEgcGFnaW5hXHJcbiAgICovXHJcbiAgc2V0VG90YWwoZXZlbnQ6IEV2ZW50RGVwZW5kZW5jeTxUb3RhbFRhYmxlSGVsaXNhPik6IHZvaWQge1xyXG4gICAgdGhpcy5lbWl0VG90YWwubmV4dChldmVudCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbWl0ZSB1biBldmVudG8gZGUgYWdyZWdhciBwYWdpbmEgY29uIGxhIHBhZ2luYSBwYXJhIGxhIHRhYmxhIGNvcnJlc3BvbmRpZW50ZVxyXG4gICAqIEBwYXJhbSBldmVudCB3cmFwcGVyIHF1ZSBjb250aWVuZSBlbCBpbmRpY2UgZGUgbGEgdGFibGEgeSBsYSBpbmZvcm1hY2nDs24gZGUgbGEgcGFnaW5hXHJcbiAgICovXHJcbiAgYWRkUGFnZShldmVudDogRXZlbnREZXBlbmRlbmN5PFRbXT4pOiB2b2lkIHtcclxuICAgIHRoaXMuZW1pdE5leHRQYWdlLm5leHQoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0SW5kZXhSb3coY29uZmlnOiBDb25maWdUYWJsZTxUPik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaW5mb1RhYmxlc1tjb25maWcub3JkZXJdKSB7XHJcbiAgICAgIHRoaXMuaW5mb1RhYmxlc1tjb25maWcub3JkZXJdLmluZGV4Um93U2VsZWN0ID0gY29uZmlnLmluZGV4Um93U2VsZWN0O1xyXG4gICAgICB0aGlzLnRhYmxlcy5uZXh0KHRoaXMuaW5mb1RhYmxlcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogKiBEZXNoYWJpbGl0YSBlbCBib3TDs24geSBsZSBwb25lIHVuIHRpdHVsbyBzb2JyZSBlbCBvdmVyXHJcbiAgICogQHBhcmFtIGV2ZW50IHBhcmEgaW5kaWNhciBlbCBpbmRleCBkZSBsYSB0YWJsYSB5IGVuIFwiZGF0YVwiIHRydWUgbyBmYWxzZVxyXG4gICAqL1xyXG4gIGNoYW5nZUVuYWJsZWRCdXR0b24oZXZlbnQ6IEV2ZW50RGVwZW5kZW5jeTx7aXNEaXNhYmxlZDogYm9vbGVhbiwgdGV4dDogc3RyaW5nfT4pOiB2b2lkIHtcclxuICAgIHRoaXMuZW1pdEVuYWJsZWRCdXR0b24kLm5leHQoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTXVlc3RyYSBvIGVzY29uZGUgZWwgYm90b24gdW5hIHRhYmxhIGVuIGVzcGVjaWZpY29cclxuICAgKiBAcGFyYW0gZXZlbnQgcGFyYSBpbmRpY2FyIGVsIGluZGV4IGRlIGxhIHRhYmxhIHkgZW4gXCJkYXRhXCIgdHJ1ZSBvIGZhbHNlXHJcbiAgICovXHJcbiAgIGNoYW5nZVZpc2liaWxpdHlCdXR0b24oZXZlbnQ6IEV2ZW50RGVwZW5kZW5jeTxib29sZWFuPik6IHZvaWQge1xyXG4gICAgdGhpcy5lbWl0VmlzaWJpbGl0eUJ1dHRvbiQubmV4dChldmVudCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogRXNjb25kZSBsb3MgYm90b25lcyBkZSB0b2RhcyBsYXMgdGFibGFzXHJcbiAgICogQHBhcmFtIHNob3cgaW5kaWNhciBzaSBzZSBtdWVzdHJhbiBvIG5vIHRvZG9zIGxvcyBib3RvbmVzIGRlIGxhcyB0YWJsYXNcclxuICAgKi9cclxuICBjaGFuZ2VWaXNpYmlsaXR5QWxsQnV0dG9ucyhzaG93OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLmVtaXRWaXNpYmlsaXR5QWxsQnV0dG9ucyQubmV4dChzaG93KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBhcmEgaGFiaWxpdGFyIGVsIG1hbmVqbyBkZSBzZWxlY2Npw7NuIGRlIGNlbGRhXHJcbiAgICogQHBhcmFtIGV2ZW50IHBhcmEgaW5kaWNhciBlbCBpbmRleCBkZSBsYSB0YWJsYSB5IGVuIFwiZGF0YVwiIHRydWUgbyBmYWxzZVxyXG4gICAqL1xyXG4gIGNoYW5nZWlzQ2VsbFNlbGVjdGlvbihldmVudDogRXZlbnREZXBlbmRlbmN5PGJvb2xlYW4+KTogdm9pZCB7XHJcbiAgICB0aGlzLmVtaXRJc0NlbGxTZWxlY3Rpb24kLm5leHQoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgIC8qKlxyXG4gICAgKiBQYXJhIGhhYmlsaXRhciBlbCBjYW1iaW8gZGUgY29sdW1uYXNcclxuICAgICogQHBhcmFtIGV2ZW50IHBhcmEgaW5kaWNhciBlbCBpbmRleCBkZSBsYSB0YWJsYSB5IGVuIFwiZGF0YVwiIGNvbHVtbmFzXHJcbiAgICAqL1xyXG4gIGNoYW5nZUNvbHVtbnNCeVRhYmxlKCBldmVudDogRXZlbnREZXBlbmRlbmN5PENvbHVtbkNvbmZpZ1tdPik6IHZvaWQge1xyXG4gICAgdGhpcy5lbWl0Q2hhbmdlQ29sdW1ucyQubmV4dChldmVudCk7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=