import { Component, Inject } from '@angular/core';
import { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';
import { AlertInformationType } from './alert-information-helisa-type.enum';
const TITLE_BY_ALERT_TYPE = ['!Esta transacción requiere autorización!',
    '',
    '¿Está seguro que debe anular esta información?',
    '',
    '¿Está seguro de querer perder lo ya hecho?',
    'No ha suministrado la información necesaria.',
    '',
    '',
    '',
    ''
];
const CONTENT_BY_ALERT_TYPE = ['',
    '¿Esta seguro que desea eliminar esta información?',
    'Al anular este concepto, quedará la huella de todo lo que se hizo apoyados en su información. No es una eliminación tácita, es suprimir su uso en adelante.',
    'Rectifique. Hay información no válida',
    'Si no está seguro, puede continuar o "aplicar" y posteriormente cuando tenga clara las respuestas, usando la opción de modificar podrá completar el concepto.',
    'Si insite en grabar así, este concepto no será utilizable hasta su conclusión satisfactoria, que deberá completar posteriormente modificando el concepto.',
    'Elemento sin información requerida. Modifíquelo para completarlo.',
    'Primero defina la estructura comercial en configuración.',
    'Primero defina la estructura zona de parqueaderos en configuración.',
    'Primero defina la estructura física residencial en configuración.',
    'No fueron encontradas coincidencias con el criterio de búsqueda.',
];
const OK_LABEL_BY_ALERT_TYPE = ['Solicitarla',
    'Lo asumo',
    'Lo asumo',
    '',
    'Lo asumo',
    'Lo asumo',
    'Aceptar',
    '',
    '',
    ''
];
const CANCEL_LABEL_BY_ALERT_TYPE = ['Negarla',
    'Me retracto',
    'Me retracto',
    '',
    'Me retracto',
    'Me retracto',
    '',
    '',
    '',
    ''
];
export class AlertInformationDataHelisaComponent {
    constructor(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.alertType = data.alertType;
        this.title = data.title;
        if (this.title === undefined) {
            this.title = TITLE_BY_ALERT_TYPE[this.alertType];
        }
        this.content = data.content;
        if (this.content === undefined) {
            this.content = CONTENT_BY_ALERT_TYPE[this.alertType];
        }
        this.okLabel = data.okLabel;
        if (this.okLabel === undefined) {
            this.okLabel = OK_LABEL_BY_ALERT_TYPE[this.alertType];
        }
        this.cancelLabel = data.cancelLabel;
        if (this.cancelLabel === undefined) {
            this.cancelLabel = CANCEL_LABEL_BY_ALERT_TYPE[this.alertType];
        }
        dialogRef.disableClose = true;
        dialogRef.keydownEvents().subscribe((event) => {
            if (event.code === 'Escape') {
                this.dialogRef.close(this.onCancel());
            }
        });
    }
    ngOnInit() {
        if (this.alertType === AlertInformationType.DEFINE_COMMERCIAL_STRUCTURE || this.alertType === AlertInformationType.DEFINE_PARKING_STRUCTURE ||
            this.alertType === AlertInformationType.DEFINE_RESIDENCIAL_STRUCTURE) {
            setTimeout(() => {
                this.dialogRef.close();
            }, 3000);
        }
    }
    onCancel() {
        this.dialogRef.close();
    }
    hasTitle() {
        return this.alertType === AlertInformationType.AUTHORIZATION_TRANSACTION || this.alertType === AlertInformationType.DELETE_DATA ||
            this.alertType === AlertInformationType.LOST_DATA || this.alertType === AlertInformationType.UNCOMPLETED_DATA;
    }
    hasContent() {
        return this.alertType === AlertInformationType.CONFIRM_DELETE_DATA || this.alertType === AlertInformationType.DELETE_DATA ||
            this.alertType === AlertInformationType.INFORMATION_NOT_VALID || this.alertType === AlertInformationType.LOST_DATA ||
            this.alertType === AlertInformationType.UNCOMPLETED_DATA || this.alertType === AlertInformationType.UNCOMPLETED_SELECTED_DATA ||
            this.alertType === AlertInformationType.DEFINE_COMMERCIAL_STRUCTURE || this.alertType === AlertInformationType.DEFINE_PARKING_STRUCTURE ||
            this.alertType === AlertInformationType.DEFINE_RESIDENCIAL_STRUCTURE || this.alertType === AlertInformationType.NO_SEARCH_RESULTS;
    }
    hasButtons() {
        return this.alertType === AlertInformationType.AUTHORIZATION_TRANSACTION || this.alertType === AlertInformationType.CONFIRM_DELETE_DATA ||
            this.alertType === AlertInformationType.DELETE_DATA || this.alertType === AlertInformationType.LOST_DATA ||
            this.alertType === AlertInformationType.UNCOMPLETED_DATA || this.alertType === AlertInformationType.UNCOMPLETED_SELECTED_DATA;
    }
    hasCancelButton() {
        return this.alertType !== AlertInformationType.UNCOMPLETED_SELECTED_DATA;
    }
}
AlertInformationDataHelisaComponent.decorators = [
    { type: Component, args: [{
                selector: 'hel-alert-information-data-helisa',
                template: "<h1 mat-dialog-title *ngIf=\"hasTitle()\">{{ title }}</h1>\n<div mat-dialog-content *ngIf=\"hasContent()\">{{ content }}</div>\n<div mat-dialog-action *ngIf=\"hasButtons()\">\n    <button mat-button [mat-dialog-close]=\"false\" cdkFocusInitial *ngIf=\"hasCancelButton()\">{{cancelLabel}}</button>\n    <button mat-button [mat-dialog-close]=\"true\" >{{okLabel}}</button>\n</div>\n",
                styles: [""]
            },] }
];
AlertInformationDataHelisaComponent.ctorParameters = () => [
    { type: MatDialogRef },
    { type: undefined, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQtaW5mb3JtYXRpb24tZGF0YS1oZWxpc2EuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uL3Byb2plY3RzL2hlbGlzYS1saWIvc3JjLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvYWxlcnQtaW5mb3JtYXRpb24tZGF0YS1oZWxpc2EvYWxlcnQtaW5mb3JtYXRpb24tZGF0YS1oZWxpc2EuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFELE9BQU8sRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDekUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFVNUUsTUFBTSxtQkFBbUIsR0FBYSxDQUFDLDBDQUEwQztJQUMxQyxFQUFFO0lBQ0YsZ0RBQWdEO0lBQ2hELEVBQUU7SUFDRiw0Q0FBNEM7SUFDNUMsOENBQThDO0lBQzlDLEVBQUU7SUFDRixFQUFFO0lBQ0YsRUFBRTtJQUNGLEVBQUU7Q0FDRixDQUFDO0FBQ3hDLE1BQU0scUJBQXFCLEdBQWEsQ0FBQyxFQUFFO0lBQ0YsbURBQW1EO0lBQ25ELDZKQUE2SjtJQUM3Six1Q0FBdUM7SUFDdkMsK0pBQStKO0lBQy9KLDJKQUEySjtJQUMzSixtRUFBbUU7SUFDbkUsMERBQTBEO0lBQzFELHFFQUFxRTtJQUNyRSxtRUFBbUU7SUFDbkUsa0VBQWtFO0NBQ2xFLENBQUM7QUFDMUMsTUFBTSxzQkFBc0IsR0FBYSxDQUFDLGFBQWE7SUFDYixVQUFVO0lBQ1YsVUFBVTtJQUNWLEVBQUU7SUFDRixVQUFVO0lBQ1YsVUFBVTtJQUNWLFNBQVM7SUFDVCxFQUFFO0lBQ0YsRUFBRTtJQUNGLEVBQUU7Q0FDRixDQUFDO0FBQzNDLE1BQU0sMEJBQTBCLEdBQWEsQ0FBQyxTQUFTO0lBQ1QsYUFBYTtJQUNiLGFBQWE7SUFDYixFQUFF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U0FBUztZQUNsSCxJQUFJLENBQUMsU0FBUyxLQUFLLG9CQUFvQixDQUFDLGdCQUFnQixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssb0JBQW9CLENBQUMseUJBQXlCO1lBQzdILElBQUksQ0FBQyxTQUFTLEtBQUssb0JBQW9CLENBQUMsMkJBQTJCLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxvQkFBb0IsQ0FBQyx3QkFBd0I7WUFDdkksSUFBSSxDQUFDLFNBQVMsS0FBSyxvQkFBb0IsQ0FBQyw0QkFBNEIsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLG9CQUFvQixDQUFDLGlCQUFpQixDQUFDO0lBQzNJLENBQUM7SUFFRCxVQUFVO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxLQUFLLG9CQUFvQixDQUFDLHlCQUF5QixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssb0JBQW9CLENBQUMsbUJBQW1CO1lBQ2hJLElBQUksQ0FBQyxTQUFTLEtBQUssb0JBQW9CLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssb0JBQW9CLENBQUMsU0FBUztZQUN4RyxJQUFJLENBQUMsU0FBUyxLQUFLLG9CQUFvQixDQUFDLGdCQUFnQixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssb0JBQW9CLENBQUMseUJBQXlCLENBQUM7SUFDdkksQ0FBQztJQUVELGVBQWU7UUFDYixPQUFPLElBQUksQ0FBQyxTQUFTLEtBQUssb0JBQW9CLENBQUMseUJBQXlCLENBQUM7SUFDM0UsQ0FBQzs7O1lBNUVGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsbUNBQW1DO2dCQUM3Qyx3WUFBNkQ7O2FBRTlEOzs7WUE3RFEsWUFBWTs0Q0F3RWhCLE1BQU0sU0FBQyxlQUFlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0RGlhbG9nUmVmLCBNQVRfRElBTE9HX0RBVEEgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xuaW1wb3J0IHsgQWxlcnRJbmZvcm1hdGlvblR5cGUgfSBmcm9tICcuL2FsZXJ0LWluZm9ybWF0aW9uLWhlbGlzYS10eXBlLmVudW0nO1xuXG5pbnRlcmZhY2UgQWxlcnRJbmZvcm1hdGlvbkRhdGFIZWxpc2FQcm9wZXJ0aWVzIHtcbiAgYWxlcnRUeXBlOiBBbGVydEluZm9ybWF0aW9uVHlwZTtcbiAgdGl0bGU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBva0xhYmVsOiBzdHJpbmc7XG4gIGNhbmNlbExhYmVsOiBzdHJpbmc7XG59XG5cbmNvbnN0IFRJVExFX0JZX0FMRVJUX1RZUEU6IHN0cmluZ1tdID0gWychRXN0YSB0cmFuc2FjY2nDs24gcmVxdWllcmUgYXV0b3JpemFjacOzbiEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnwr9Fc3TDoSBzZWd1cm8gcXVlIGRlYmUgYW51bGFyIGVzdGEgaW5mb3JtYWNpw7NuPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICfCv0VzdMOhIHNlZ3VybyBkZSBxdWVyZXIgcGVyZGVyIGxvIHlhIGhlY2hvPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm8gaGEgc3VtaW5pc3RyYWRvIGxhIGluZm9ybWFjacOzbiBuZWNlc2FyaWEuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG5jb25zdCBDT05URU5UX0JZX0FMRVJUX1RZUEU6IHN0cmluZ1tdID0gWycnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnwr9Fc3RhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgZXN0YSBpbmZvcm1hY2nDs24/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FsIGFudWxhciBlc3RlIGNvbmNlcHRvLCBxdWVkYXLDoSBsYSBodWVsbGEgZGUgdG9kbyBsbyBxdWUgc2UgaGl6byBhcG95YWRvcyBlbiBzdSBpbmZvcm1hY2nDs24uIE5vIGVzIHVuYSBlbGltaW5hY2nDs24gdMOhY2l0YSwgZXMgc3VwcmltaXIgc3UgdXNvIGVuIGFkZWxhbnRlLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSZWN0aWZpcXVlLiBIYXkgaW5mb3JtYWNpw7NuIG5vIHbDoWxpZGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2kgbm8gZXN0w6Egc2VndXJvLCBwdWVkZSBjb250aW51YXIgbyBcImFwbGljYXJcIiB5IHBvc3Rlcmlvcm1lbnRlIGN1YW5kbyB0ZW5nYSBjbGFyYSBsYXMgcmVzcHVlc3RhcywgdXNhbmRvIGxhIG9wY2nDs24gZGUgbW9kaWZpY2FyIHBvZHLDoSBjb21wbGV0YXIgZWwgY29uY2VwdG8uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NpIGluc2l0ZSBlbiBncmFiYXIgYXPDrSwgZXN0ZSBjb25jZXB0byBubyBzZXLDoSB1dGlsaXphYmxlIGhhc3RhIHN1IGNvbmNsdXNpw7NuIHNhdGlzZmFjdG9yaWEsIHF1ZSBkZWJlcsOhIGNvbXBsZXRhciBwb3N0ZXJpb3JtZW50ZSBtb2RpZmljYW5kbyBlbCBjb25jZXB0by4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRWxlbWVudG8gc2luIGluZm9ybWFjacOzbiByZXF1ZXJpZGEuIE1vZGlmw61xdWVsbyBwYXJhIGNvbXBsZXRhcmxvLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdQcmltZXJvIGRlZmluYSBsYSBlc3RydWN0dXJhIGNvbWVyY2lhbCBlbiBjb25maWd1cmFjacOzbi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUHJpbWVybyBkZWZpbmEgbGEgZXN0cnVjdHVyYSB6b25hIGRlIHBhcnF1ZWFkZXJvcyBlbiBjb25maWd1cmFjacOzbi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUHJpbWVybyBkZWZpbmEgbGEgZXN0cnVjdHVyYSBmw61zaWNhIHJlc2lkZW5jaWFsIGVuIGNvbmZpZ3VyYWNpw7NuLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdObyBmdWVyb24gZW5jb250cmFkYXMgY29pbmNpZGVuY2lhcyBjb24gZWwgY3JpdGVyaW8gZGUgYsO6c3F1ZWRhLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbmNvbnN0IE9LX0xBQkVMX0JZX0FMRVJUX1RZUEU6IHN0cmluZ1tdID0gWydTb2xpY2l0YXJsYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTG8gYXN1bW8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0xvIGFzdW1vJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0xvIGFzdW1vJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdMbyBhc3VtbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWNlcHRhcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbmNvbnN0IENBTkNFTF9MQUJFTF9CWV9BTEVSVF9UWVBFOiBzdHJpbmdbXSA9IFsnTmVnYXJsYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01lIHJldHJhY3RvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWUgcmV0cmFjdG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNZSByZXRyYWN0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01lIHJldHJhY3RvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnaGVsLWFsZXJ0LWluZm9ybWF0aW9uLWRhdGEtaGVsaXNhJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FsZXJ0LWluZm9ybWF0aW9uLWRhdGEtaGVsaXNhLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vYWxlcnQtaW5mb3JtYXRpb24tZGF0YS1oZWxpc2EuY29tcG9uZW50LnNhc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBBbGVydEluZm9ybWF0aW9uRGF0YUhlbGlzYUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgYWxlcnRUeXBlOiBBbGVydEluZm9ybWF0aW9uVHlwZTtcbiAgdGl0bGU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBva0xhYmVsOiBzdHJpbmc7XG4gIGNhbmNlbExhYmVsOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPEFsZXJ0SW5mb3JtYXRpb25EYXRhSGVsaXNhQ29tcG9uZW50PixcbiAgICBASW5qZWN0KE1BVF9ESUFMT0dfREFUQSkgcHVibGljIGRhdGE6IEFsZXJ0SW5mb3JtYXRpb25EYXRhSGVsaXNhUHJvcGVydGllc1xuICApIHtcbiAgICB0aGlzLmFsZXJ0VHlwZSA9IGRhdGEuYWxlcnRUeXBlO1xuICAgIHRoaXMudGl0bGUgPSBkYXRhLnRpdGxlO1xuICAgIGlmICh0aGlzLnRpdGxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudGl0bGUgPSBUSVRMRV9CWV9BTEVSVF9UWVBFW3RoaXMuYWxlcnRUeXBlXTtcbiAgICB9XG4gICAgdGhpcy5jb250ZW50ID0gZGF0YS5jb250ZW50O1xuICAgIGlmICh0aGlzLmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jb250ZW50ID0gQ09OVEVOVF9CWV9BTEVSVF9UWVBFW3RoaXMuYWxlcnRUeXBlXTtcbiAgICB9XG4gICAgdGhpcy5va0xhYmVsID0gZGF0YS5va0xhYmVsO1xuICAgIGlmICh0aGlzLm9rTGFiZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5va0xhYmVsID0gT0tfTEFCRUxfQllfQUxFUlRfVFlQRVt0aGlzLmFsZXJ0VHlwZV07XG4gICAgfVxuICAgIHRoaXMuY2FuY2VsTGFiZWwgPSBkYXRhLmNhbmNlbExhYmVsO1xuICAgIGlmICh0aGlzLmNhbmNlbExhYmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY2FuY2VsTGFiZWwgPSBDQU5DRUxfTEFCRUxfQllfQUxFUlRfVFlQRVt0aGlzLmFsZXJ0VHlwZV07XG4gICAgfVxuICAgIGRpYWxvZ1JlZi5kaXNhYmxlQ2xvc2UgPSB0cnVlO1xuICAgIGRpYWxvZ1JlZi5rZXlkb3duRXZlbnRzKCkuc3Vic2NyaWJlKChldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgaWYgKGV2ZW50LmNvZGUgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHRoaXMub25DYW5jZWwoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hbGVydFR5cGUgPT09IEFsZXJ0SW5mb3JtYXRpb25UeXBlLkRFRklORV9DT01NRVJDSUFMX1NUUlVDVFVSRSB8fCB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuREVGSU5FX1BBUktJTkdfU1RSVUNUVVJFIHx8XG4gICAgICAgIHRoaXMuYWxlcnRUeXBlID09PSBBbGVydEluZm9ybWF0aW9uVHlwZS5ERUZJTkVfUkVTSURFTkNJQUxfU1RSVUNUVVJFKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5kaWFsb2dSZWYuY2xvc2UoKTtcbiAgICAgIH0sIDMwMDApO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2FuY2VsKCk6IHZvaWQge1xuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XG4gIH1cblxuICBoYXNUaXRsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5hbGVydFR5cGUgPT09IEFsZXJ0SW5mb3JtYXRpb25UeXBlLkFVVEhPUklaQVRJT05fVFJBTlNBQ1RJT04gfHwgdGhpcy5hbGVydFR5cGUgPT09IEFsZXJ0SW5mb3JtYXRpb25UeXBlLkRFTEVURV9EQVRBIHx8XG4gICAgICAgICAgIHRoaXMuYWxlcnRUeXBlID09PSBBbGVydEluZm9ybWF0aW9uVHlwZS5MT1NUX0RBVEEgfHwgdGhpcy5hbGVydFR5cGUgPT09IEFsZXJ0SW5mb3JtYXRpb25UeXBlLlVOQ09NUExFVEVEX0RBVEE7XG4gIH1cblxuICBoYXNDb250ZW50KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuQ09ORklSTV9ERUxFVEVfREFUQSB8fCB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuREVMRVRFX0RBVEEgfHxcbiAgICAgICAgICAgdGhpcy5hbGVydFR5cGUgPT09IEFsZXJ0SW5mb3JtYXRpb25UeXBlLklORk9STUFUSU9OX05PVF9WQUxJRCB8fCB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuTE9TVF9EQVRBIHx8XG4gICAgICAgICAgIHRoaXMuYWxlcnRUeXBlID09PSBBbGVydEluZm9ybWF0aW9uVHlwZS5VTkNPTVBMRVRFRF9EQVRBIHx8IHRoaXMuYWxlcnRUeXBlID09PSBBbGVydEluZm9ybWF0aW9uVHlwZS5VTkNPTVBMRVRFRF9TRUxFQ1RFRF9EQVRBIHx8XG4gICAgICAgICAgIHRoaXMuYWxlcnRUeXBlID09PSBBbGVydEluZm9ybWF0aW9uVHlwZS5ERUZJTkVfQ09NTUVSQ0lBTF9TVFJVQ1RVUkUgfHwgdGhpcy5hbGVydFR5cGUgPT09IEFsZXJ0SW5mb3JtYXRpb25UeXBlLkRFRklORV9QQVJLSU5HX1NUUlVDVFVSRSB8fFxuICAgICAgICAgICB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuREVGSU5FX1JFU0lERU5DSUFMX1NUUlVDVFVSRSB8fCB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuTk9fU0VBUkNIX1JFU1VMVFM7XG4gIH1cblxuICBoYXNCdXR0b25zKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuQVVUSE9SSVpBVElPTl9UUkFOU0FDVElPTiB8fCB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuQ09ORklSTV9ERUxFVEVfREFUQSB8fFxuICAgICAgICAgICB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuREVMRVRFX0RBVEEgfHwgdGhpcy5hbGVydFR5cGUgPT09IEFsZXJ0SW5mb3JtYXRpb25UeXBlLkxPU1RfREFUQSB8fFxuICAgICAgICAgICB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuVU5DT01QTEVURURfREFUQSB8fCB0aGlzLmFsZXJ0VHlwZSA9PT0gQWxlcnRJbmZvcm1hdGlvblR5cGUuVU5DT01QTEVURURfU0VMRUNURURfREFUQTtcbiAgfVxuXG4gIGhhc0NhbmNlbEJ1dHRvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5hbGVydFR5cGUgIT09IEFsZXJ0SW5mb3JtYXRpb25UeXBlLlVOQ09NUExFVEVEX1NFTEVDVEVEX0RBVEE7XG4gIH1cbn1cbiJdfQ==